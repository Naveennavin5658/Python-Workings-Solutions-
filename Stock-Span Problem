#Stockspan problem: Given a list of stock-rates.The stock-span is the number of consecutive days(before the specific day)
#when the price of stock was less than or equal to the price on this particular day. Calculate the stock-span array:
def calculateStockSpan(l):
    stack=[]
    ans=[]
    ans.append(1)
    stack.append(0)
    for i in range(1,len(l)):
        if(l[stack[-1]]>l[i]):
            ans.append(i-stack[-1])
            stack.append(i)
        else:
            while(l[stack[-1]]<=l[i]):
                stack.pop()
            ans.append(i-stack[-1])
            stack.append(i)
    del stack
    return ans
stock_rates=list(map(int,input("Enter the stock rates").split(" ")))
stock_span=calculateStockSpan(stock_rates)
print("The stock span would be:",stock_span)
